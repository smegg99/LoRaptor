\documentclass[12pt,oneside,a4paper]{article}

% === Language and Font ===
\usepackage{fontspec}
\usepackage{polyglossia}
\setmainlanguage{polish}
\setotherlanguage{english}
\setmainfont{DejaVu Serif}

% === Layout and Formatting ===
\usepackage[margin=2.25cm,headheight=26pt,includeheadfoot]{geometry}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{titlesec}
\usepackage{titling}
\usepackage{matlab-prettifier}
\usepackage{caption}
\usepackage{tocloft}
\usepackage{setspace}
\usepackage{multirow}
\usepackage{float}
\usepackage{comment}
\usepackage{booktabs}
\usepackage{indentfirst}
\usepackage{lscape}
\usepackage[flushleft]{threeparttable}
\usepackage{nomencl}
\usepackage{lastpage}
\usepackage{datetime2}
\usepackage[most]{tcolorbox}
\usepackage{xcolor}
\usepackage{listings}

\definecolor{codegray}{rgb}{0.95,0.95,0.95}
\definecolor{commentgreen}{rgb}{0,0.6,0}

\title{Dokumentacja techniczna projektu "LoRaptor"}
\makeatletter\let\Title\@title\makeatother

\lstset{
  language=Matlab,
  style=Matlab-editor,
  basicstyle=\normalsize\mlttfamily,
  numbers=left,
  numberstyle={\scriptsize\color{black}},
  numbersep=0.5cm
}

\lstset{
  backgroundcolor=\color{codegray},
  commentstyle=\color{commentgreen},
  keywordstyle=\color{blue},
  stringstyle=\color{orange},
  basicstyle=\ttfamily\small,
  numbers=left,
  numberstyle=\tiny\color{gray},
  frame=single,
  tabsize=2,
  breaklines=true
}

\newlist{steps}{enumerate}{1}
\setlist[steps, 1]{leftmargin=1.5cm,label = Step \arabic*:}

\pagestyle{fancy}
\fancyhf{}
\lhead{\Title}
\rhead{}
\cfoot{\thepage}
\rfoot{\includegraphics[height=1cm]{root/LoRaptorHeader.png}}

\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}
\setlength{\parindent}{2em}
\setlength\headheight{26pt}
\setlength{\footskip}{50pt}

\begin{document}

\pagenumbering{roman}
\input{sources/front_page.tex}

\newpage
\tableofcontents

\newpage
\pagenumbering{arabic}
\doublespacing

\input{sources/introduction.tex}
\clearpage
\input{sources/what_is.tex}
\clearpage
\input{sources/purpose.tex}
\clearpage
\input{sources/catchphrase.tex}
\clearpage
\input{sources/work_progress.tex}
\clearpage
\input{sources/hardware_overview.tex}
\clearpage
\input{sources/enclosure.tex}
\clearpage
\input{sources/firmware_overview.tex}
\clearpage
\input{sources/app_overview.tex}
\clearpage
\input{sources/finale.tex}
\clearpage

\label{EndOfText}
\fancyfoot[C]{Strona \thepage\ z \pageref{LastPage}}

\label{endOfDoc}
\label{LastPage}
\end{document}